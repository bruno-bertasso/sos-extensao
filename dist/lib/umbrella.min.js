var u=function(t,e){return this instanceof u?t instanceof u?t:((t="string"==typeof t?this.select(t,e):t)&&t.nodeName&&(t=[t]),void(this.nodes=this.slice(t))):new u(t,e)};u.prototype={get length(){return this.nodes.length}},u.prototype.nodes=[],u.prototype.addClass=function(){return this.eacharg(arguments,(function(t,e){t.classList.add(e)}))},u.prototype.adjacent=function(t,e,n){return"number"==typeof e&&(e=0===e?[]:new Array(e).join().split(",").map(Number.call,Number)),this.each((function(r,o){var i=document.createDocumentFragment();u(e||{}).map((function(e,n){return"string"==typeof(n="function"==typeof t?t.call(this,e,n,r,o):t)?this.generate(n):u(n)})).each((function(t){this.isInPage(t)?i.appendChild(u(t).clone().first()):i.appendChild(t)})),n.call(this,r,i)}))},u.prototype.after=function(t,e){return this.adjacent(t,e,(function(t,e){t.parentNode.insertBefore(e,t.nextSibling)}))},u.prototype.append=function(t,e){return this.adjacent(t,e,(function(t,e){t.appendChild(e)}))},u.prototype.args=function(t,e,n){return(t="string"!=typeof(t="function"==typeof t?t(e,n):t)?this.slice(t).map(this.str(e,n)):t).toString().split(/[\s,]+/).filter((function(t){return t.length}))},u.prototype.array=function(t){var e=this;return this.nodes.reduce((function(n,r,o){var i;return t?(i="string"==typeof(i=(i=t.call(e,r,o))||!1)?u(i):i)instanceof u&&(i=i.nodes):i=r.innerHTML,n.concat(!1!==i?i:[])}),[])},u.prototype.attr=function(t,e,n){return n=n?"data-":"",this.pairs(t,e,(function(t,e){return t.getAttribute(n+e)}),(function(t,e,r){r?t.setAttribute(n+e,r):t.removeAttribute(n+e)}))},u.prototype.before=function(t,e){return this.adjacent(t,e,(function(t,e){t.parentNode.insertBefore(e,t)}))},u.prototype.children=function(t){return this.map((function(t){return this.slice(t.children)})).filter(t)},u.prototype.clone=function(){return this.map((function(t,e){var n=t.cloneNode(!0),r=this.getAll(n);return this.getAll(t).each((function(t,e){for(var n in this.mirror)this.mirror[n]&&this.mirror[n](t,r.nodes[e])})),n}))},u.prototype.getAll=function(t){return u([t].concat(u("*",t).nodes))},u.prototype.mirror={},u.prototype.mirror.events=function(t,e){if(t._e)for(var n in t._e)t._e[n].forEach((function(t){u(e).on(n,t.callback)}))},u.prototype.mirror.select=function(t,e){u(t).is("select")&&(e.value=t.value)},u.prototype.mirror.textarea=function(t,e){u(t).is("textarea")&&(e.value=t.value)},u.prototype.closest=function(t){return this.map((function(e){do{if(u(e).is(t))return e}while((e=e.parentNode)&&e!==document)}))},u.prototype.data=function(t,e){return this.attr(t,e,!0)},u.prototype.each=function(t){return this.nodes.forEach(t.bind(this)),this},u.prototype.eacharg=function(t,e){return this.each((function(n,r){this.args(t,n,r).forEach((function(t){e.call(this,n,t)}),this)}))},u.prototype.empty=function(){return this.each((function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))},u.prototype.filter=function(t){var e=t instanceof u?function(e){return-1!==t.nodes.indexOf(e)}:"function"==typeof t?t:function(e){return e.matches=e.matches||e.msMatchesSelector||e.webkitMatchesSelector,e.matches(t||"*")};return u(this.nodes.filter(e))},u.prototype.find=function(t){return this.map((function(e){return u(t||"*",e)}))},u.prototype.first=function(){return this.nodes[0]||!1},u.prototype.generate=function(t){return/^\s*<tr[> ]/.test(t)?u(document.createElement("table")).html(t).children().children().nodes:/^\s*<t(h|d)[> ]/.test(t)?u(document.createElement("table")).html(t).children().children().children().nodes:/^\s*</.test(t)?u(document.createElement("div")).html(t).children().nodes:document.createTextNode(t)},u.prototype.handle=function(){var t=this.slice(arguments).map((function(t){return"function"==typeof t?function(e){e.preventDefault(),t.apply(this,arguments)}:t}),this);return this.on.apply(this,t)},u.prototype.hasClass=function(){return this.is("."+this.args(arguments).join("."))},u.prototype.html=function(t){return void 0===t?this.first().innerHTML||"":this.each((function(e){e.innerHTML=t}))},u.prototype.is=function(t){return 0<this.filter(t).length},u.prototype.isInPage=function(t){return t!==document.body&&document.body.contains(t)},u.prototype.last=function(){return this.nodes[this.length-1]||!1},u.prototype.map=function(t){return t?u(this.array(t)).unique():this},u.prototype.not=function(t){return this.filter((function(e){return!u(e).is(t||!0)}))},u.prototype.off=function(t,e,n){var r=null==e&&null==n,o=null,i=e;return"string"==typeof e&&(o=e,i=n),this.eacharg(t,(function(t,e){u(t._e?t._e[e]:[]).each((function(n){(r||n.orig_callback===i&&n.selector===o)&&t.removeEventListener(e,n.callback)}))}))},u.prototype.on=function(t,e,n){function r(t,e){try{Object.defineProperty(t,"currentTarget",{value:e,configurable:!0})}catch(t){}}var o=null,i=e;function c(t){return e.apply(this,[t].concat(t.detail||[]))}return"string"==typeof e&&(o=e,i=n,e=function(t){var e=arguments;u(t.currentTarget).find(o).each((function(o){var i;o.contains(t.target)&&(i=t.currentTarget,r(t,o),n.apply(o,e),r(t,i))}))}),this.eacharg(t,(function(t,e){t.addEventListener(e,c),t._e=t._e||{},t._e[e]=t._e[e]||[],t._e[e].push({callback:c,orig_callback:i,selector:o})}))},u.prototype.pairs=function(t,e,n,r){var o;return void 0!==e&&(o=t,(t={})[o]=e),"object"==typeof t?this.each((function(e,n){for(var o in t)"function"==typeof t[o]?r(e,o,t[o](e,n)):r(e,o,t[o])})):this.length?n(this.first(),t):""},u.prototype.param=function(t){return Object.keys(t).map(function(e){return this.uri(e)+"="+this.uri(t[e])}.bind(this)).join("&")},u.prototype.parent=function(t){return this.map((function(t){return t.parentNode})).filter(t)},u.prototype.prepend=function(t,e){return this.adjacent(t,e,(function(t,e){t.insertBefore(e,t.firstChild)}))},u.prototype.remove=function(){return this.each((function(t){t.parentNode&&t.parentNode.removeChild(t)}))},u.prototype.removeClass=function(){return this.eacharg(arguments,(function(t,e){t.classList.remove(e)}))},u.prototype.replace=function(t,e){var n=[];return this.adjacent(t,e,(function(t,e){n=n.concat(this.slice(e.children)),t.parentNode.replaceChild(e,t)})),u(n)},u.prototype.scroll=function(){var t=this.first();return t&&t.scrollIntoView({behavior:"smooth"}),this},u.prototype.select=function(t,e){return t=t.replace(/^\s*/,"").replace(/\s*$/,""),/^</.test(t)?u().generate(t):(e||document).querySelectorAll(t)},u.prototype.serialize=function(){var t=this;return this.slice(this.first().elements).reduce((function(e,n){return!n.name||n.disabled||"file"===n.type||/(checkbox|radio)/.test(n.type)&&!n.checked?e:"select-multiple"===n.type?(u(n.options).each((function(r){r.selected&&(e+="&"+t.uri(n.name)+"="+t.uri(r.value))})),e):e+"&"+t.uri(n.name)+"="+t.uri(n.value)}),"").slice(1)},u.prototype.siblings=function(t){return this.parent().children(t).not(this)},u.prototype.size=function(){var t=this.first();return t?t.getBoundingClientRect():null},u.prototype.slice=function(t){return t&&0!==t.length&&"string"!=typeof t&&"[object Function]"!==t.toString()?t.length?[].slice.call(t.nodes||t):[t]:[]},u.prototype.str=function(t,e){return function(n){return"function"==typeof n?n.call(this,t,e):n.toString()}},u.prototype.text=function(t){return void 0===t?this.first().textContent||"":this.each((function(e){e.textContent=t}))},u.prototype.toggleClass=function(t,e){return!!e===e?this[e?"addClass":"removeClass"](t):this.eacharg(t,(function(t,e){t.classList.toggle(e)}))},u.prototype.trigger=function(t){var e=this.slice(arguments).slice(1);return this.eacharg(t,(function(t,n){var r,o={bubbles:!0,cancelable:!0,detail:e};try{r=new window.CustomEvent(n,o)}catch(t){(r=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,e)}t.dispatchEvent(r)}))},u.prototype.unique=function(){return u(this.nodes.reduce((function(t,e){return null!=e&&!1!==e&&-1===t.indexOf(e)?t.concat(e):t}),[]))},u.prototype.uri=function(t){return encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},u.prototype.wrap=function(t){return this.map((function(e){return u(t).each((function(t){(function(t){for(;t.firstElementChild;)t=t.firstElementChild;return u(t)})(t).append(e.cloneNode(!0)),e.parentNode.replaceChild(t,e)}))}))},"object"==typeof module&&module.exports&&(module.exports=u,module.exports.u=u);