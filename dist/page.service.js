const PAGES_KEY="pages";class PageService{static getPages=()=>toPromise(((r,e)=>{chrome.storage.local.get(["pages"],(t=>{chrome.runtime.lastError&&e(chrome.runtime.lastError);const o=t.pages??[];r(o)}))}));static savePage=async(r,e)=>{const t=[...await this.getPages(),{title:r,url:e}];return toPromise(((r,e)=>{chrome.storage.local.set({[PAGES_KEY]:t},(()=>{chrome.runtime.lastError&&e(chrome.runtime.lastError),r(t)}))}))};static clearPages=()=>toPromise(((r,e)=>{chrome.storage.local.remove(["pages"],(()=>{chrome.runtime.lastError&&e(chrome.runtime.lastError),r()}))}))}const toPromise=r=>new Promise(((e,t)=>{try{r(e,t)}catch(r){t(r)}}));